#container with each city's road connections information
from sets import Set
cities_neighbours = []
connections = []
q = int(raw_input().strip())
for a0 in xrange(q):
    n, m, clib, croad = raw_input().strip().split(' ')
    n, m, clib, croad = [int(n), int(m), long(clib), long(croad)]
    for city in xrange(n):
        cities_neighbours.append([])
    for a1 in xrange(m):        
        road = map(int,raw_input().strip().split(' '))        
        cities_neighbours[road[0] - 1].append(road[1])
        cities_neighbours[road[1] - 1].append([road[0]])
    if(clib <= croad):
        print n*x    
